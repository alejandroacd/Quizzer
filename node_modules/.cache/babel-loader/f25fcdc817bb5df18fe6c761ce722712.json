{"ast":null,"code":"import _regeneratorRuntime from\"/Users/invitado/quizzer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/invitado/quizzer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/invitado/quizzer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from'react';import'./Signup.css';import{useAuth}from'../../contexts/AuthContext';import{Link}from'react-router-dom';import Axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(){var emailRef=useRef();var usernameRef=useRef();var passwordRef=useRef();var passwordConfirmRef=useRef();var _useAuth=useAuth(),signup=_useAuth.signup;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return signup(emailRef.current.value,passwordRef.current.value,usernameRef.current.value).then(function(){Axios.post(\"https://quizzerproject.herokuapp.com/insert\",{userName:usernameRef.current.value});}).then(function(){if(passwordRef.current.value!==passwordConfirmRef.current.value){setError('password does not macth');}else{setTimeout(function(){window.location.href='http://localhost:3000/';},1500);}}).catch(function(error){setError(error.message);});case 3:setLoading(false);case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"card1 w-75 d-flex\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Sign up\"}),error?/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-danger m-0 p-2\",role:\"alert\",children:error}):null,/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",action:\"/insert\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"e-mail\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Escribe tu e-mail...\",ref:emailRef,type:\"email\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-4\",children:\"username\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Your username\",ref:usernameRef,type:\"text\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-4\",children:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Tu contrase\\xF1a...\",ref:passwordRef,type:\"password\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-4\",children:\"Confirm your password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Confirma tu contrase\\xF1a\",ref:passwordConfirmRef,type:\"password\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-info mt-4 w-100\",onClick:handleSubmit,type:\"submit\",disabled:loading,children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[\"already have an account?  \",/*#__PURE__*/_jsx(Link,{to:\"/Login\",children:\"Login\"})]})]})]});};export default Signup;","map":{"version":3,"sources":["/Users/invitado/quizzer/client/src/components/SignUp/Signup.js"],"names":["React","useState","useRef","useAuth","Link","Axios","Signup","emailRef","usernameRef","passwordRef","passwordConfirmRef","signup","error","setError","loading","setLoading","handleSubmit","e","preventDefault","current","value","then","post","userName","setTimeout","window","location","href","catch","message"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport './Signup.css'\nimport { useAuth } from '../../contexts/AuthContext'\nimport { Link } from 'react-router-dom'\nimport Axios from 'axios';\n\n\n \n\nconst Signup = () => {\n  const emailRef = useRef();\n  const usernameRef = useRef();\n  const passwordRef = useRef();\n  const passwordConfirmRef = useRef();\n  const { signup } = useAuth();\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  \n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n\n     await signup(emailRef.current.value,passwordRef.current.value,usernameRef.current.value)\n     .then(() => {\n      Axios.post(\"https://quizzerproject.herokuapp.com/insert\", {\n        userName: usernameRef.current.value\n      })\n     })\n     .then(() =>{\n      if(passwordRef.current.value !== passwordConfirmRef.current.value){\n        setError('password does not macth')\n    } else {\n      setTimeout(() => {\n        window.location.href = 'http://localhost:3000/'\n      },1500)\n    }})\n    .catch((error) =>{\n       setError(error.message)\n     })\n    \n    setLoading(false);  \n  }\n\n  return (\n    <div className=\"card1 w-75 d-flex\">\n      <h1 className=\"text-center\">Sign up</h1>\n\n      { error ? <div class=\"alert alert-danger m-0 p-2\" role=\"alert\">\n        {error}\n      </div> : null}\n      <form method=\"POST\" action=\"/insert\">\n        <label >e-mail</label>\n        <br />\n        <input placeholder='Escribe tu e-mail...' ref={emailRef} type='email' required />\n        <label className='mt-4'>username</label>\n        <br />\n        <input placeholder='Your username' ref={usernameRef} type='text' required />\n        <label className=\"mt-4\">Password</label>\n        <br />\n        <input placeholder='Tu contraseña...' ref={passwordRef} type='password' required />\n        <label className=\"mt-4\">Confirm your password</label>\n        <br />\n        <input placeholder='Confirma tu contraseña' ref={passwordConfirmRef} type='password' required />\n        <button className=\"btn btn-outline-info mt-4 w-100\" onClick={handleSubmit} type=\"submit\" disabled={loading}>Sign up</button>\n        <div className=\"mt-3\">already have an account?  <Link to=\"/Login\">Login</Link></div>\n\n      </form>\n    </div>\n  )\n}\nexport default Signup;"]},"metadata":{},"sourceType":"module"}