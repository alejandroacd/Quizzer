{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ale\\\\Desktop\\\\quizzer\\\\client\\\\src\\\\Categorias\\\\HistoriaPreguntas\\\\PreguntasHistoria.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport '../PreguntasStyle.css';\nimport { useCategoria } from '../../contexts/CategoriasContext';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Axios from 'axios';\nimport FinalMessage from '../finalMessage';\nimport CategoriasProto from '../CategoriasProto';\n\nconst PreguntasHistoria = () => {\n  _s();\n\n  const {\n    currentUser,\n    db\n  } = useAuth();\n  const [user, setUser] = useState();\n  const [highScore, setHighScore] = useState();\n  const {\n    acertadaHistoria,\n    getQuestionHistoria,\n    preguntaHistoria,\n    count,\n    timer,\n    messageHistoria\n  } = useCategoria();\n\n  if (timer === 0) {\n    if (count > highScore) {\n      Axios.put('https://quizzerproject.herokuapp.com/updateHistory', {\n        id: user[0]._id,\n        highScoreHistory: count\n      });\n    }\n  }\n\n  useEffect(() => {\n    let dbUser = db.filter(x => x.userName === currentUser.displayName);\n    setUser(dbUser);\n    setHighScore(dbUser[0].highScoreHistory);\n  }, [currentUser.displayName, db]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"preguntas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 16\n    }\n  }, timer > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CategoriasProto, {\n    question: preguntaHistoria,\n    getQuestion: getQuestionHistoria,\n    acertada: acertadaHistoria,\n    count: count,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 24\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FinalMessage, {\n    count: count,\n    message: messageHistoria,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 24\n    }\n  }))));\n};\n\n_s(PreguntasHistoria, \"y7fmtaHABmDyQe9skE9NauSWYEs=\", false, function () {\n  return [useAuth, useCategoria];\n});\n\n_c = PreguntasHistoria;\nexport default PreguntasHistoria;\n\nvar _c;\n\n$RefreshReg$(_c, \"PreguntasHistoria\");","map":{"version":3,"sources":["C:/Users/Ale/Desktop/quizzer/client/src/Categorias/HistoriaPreguntas/PreguntasHistoria.js"],"names":["React","useState","useEffect","useCategoria","useAuth","Axios","FinalMessage","CategoriasProto","PreguntasHistoria","currentUser","db","user","setUser","highScore","setHighScore","acertadaHistoria","getQuestionHistoria","preguntaHistoria","count","timer","messageHistoria","put","id","_id","highScoreHistory","dbUser","filter","x","userName","displayName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAO,uBAAP;AACA,SAASC,YAAT,QAA6B,kCAA7B;AACA,SAASC,OAAT,QAAwB,4BAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,eAAP,MAA4B,oBAA5B;;AAEA,MAAMC,iBAAiB,GAAG,MAAM;AAAA;;AAE5B,QAAM;AAAEC,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MAAsBN,OAAO,EAAnC;AACA,QAAM,CAACO,IAAD,EAAMC,OAAN,IAAkBX,QAAQ,EAAhC;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,EAA1C;AACA,QAAM;AACDc,IAAAA,gBADC;AAEDC,IAAAA,mBAFC;AAGDC,IAAAA,gBAHC;AAIDC,IAAAA,KAJC;AAKDC,IAAAA,KALC;AAMDC,IAAAA;AANC,MAQGjB,YAAY,EARrB;;AAUK,MAAIgB,KAAK,KAAK,CAAd,EAAiB;AACd,QAAGD,KAAK,GAAGL,SAAX,EAAqB;AACjBR,MAAAA,KAAK,CAACgB,GAAN,CAAU,oDAAV,EAAgE;AAC5DC,QAAAA,EAAE,EAAEX,IAAI,CAAC,CAAD,CAAJ,CAAQY,GADgD;AAE5DC,QAAAA,gBAAgB,EAAEN;AAF0C,OAAhE;AAKH;AACH;;AAEDhB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIuB,MAAM,GAAGf,EAAE,CAACgB,MAAH,CAAUC,CAAC,IAAIA,CAAC,CAACC,QAAF,KAAenB,WAAW,CAACoB,WAA1C,CAAb;AACEjB,IAAAA,OAAO,CAACa,MAAD,CAAP;AACAX,IAAAA,YAAY,CAACW,MAAM,CAAC,CAAD,CAAN,CAAUD,gBAAX,CAAZ;AAEH,GALQ,EAKN,CAACf,WAAW,CAACoB,WAAb,EAA0BnB,EAA1B,CALM,CAAT;AAOA,sBACG,uDACG;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKS,KAAK,GAAG,CAAR,gBACG,uDACA,oBAAC,eAAD;AAAiB,IAAA,QAAQ,EAAEF,gBAA3B;AAA6C,IAAA,WAAW,EAAED,mBAA1D;AAA+E,IAAA,QAAQ,EAAED,gBAAzF;AAA2G,IAAA,KAAK,EAAEG,KAAlH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADH,gBAKG,uDACA,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAEA,KAArB;AAA4B,IAAA,OAAO,EAAEE,eAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CANR,CADH,CADH;AAiBR,CAjDD;;GAAMZ,iB;UAE0BJ,O,EAWnBD,Y;;;KAbPK,iB;AAmDN,eAAeA,iBAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport '../PreguntasStyle.css';\r\nimport { useCategoria } from '../../contexts/CategoriasContext'\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport Axios from 'axios'\r\nimport FinalMessage from '../finalMessage'\r\nimport CategoriasProto from '../CategoriasProto'\r\n\r\nconst PreguntasHistoria = () => {\r\n\r\n    const { currentUser, db } = useAuth();\r\n    const [user,setUser ] = useState()\r\n    const [highScore, setHighScore] = useState()\r\n    const { \r\n         acertadaHistoria,\r\n         getQuestionHistoria,\r\n         preguntaHistoria,\r\n         count,\r\n         timer,\r\n         messageHistoria,\r\n         \r\n         } = useCategoria();\r\n\r\n         if (timer === 0) {\r\n            if(count > highScore){\r\n                Axios.put('https://quizzerproject.herokuapp.com/updateHistory', {\r\n                    id: user[0]._id,\r\n                    highScoreHistory: count\r\n                   \r\n                })\r\n            }\r\n         }\r\n     \r\n         useEffect(() => {\r\n           let dbUser = db.filter(x => x.userName === currentUser.displayName);\r\n             setUser(dbUser)\r\n             setHighScore(dbUser[0].highScoreHistory)\r\n     \r\n         }, [currentUser.displayName, db])\r\n\r\n         return (\r\n            <>\r\n               <div className='preguntas'>\r\n                   {timer > 0 ?\r\n                       <>\r\n                       <CategoriasProto question={preguntaHistoria} getQuestion={getQuestionHistoria} acertada={acertadaHistoria} count={count} />\r\n                       </>\r\n                       :\r\n                       <>\r\n                       <FinalMessage count={count} message={messageHistoria} />\r\n                       </>\r\n                   }\r\n   \r\n               </div>\r\n           </>\r\n   \r\n       )\r\n}\r\n\r\nexport default PreguntasHistoria"]},"metadata":{},"sourceType":"module"}